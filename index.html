<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ä¸€å‘¨çˆ±å¿ƒèœè°± | ç»™æœ€çˆ±çš„ä½ </title>
  <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Roboto', 'ZCOOL KuaiLe', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(120deg, #fff5f9 0%, #ffe4ec 100%); margin: 0; padding-bottom: 5rem; /* ä¸ºè´­ç‰©è½¦æŒ‰é’®ç•™å‡ºç©ºé—´ */ }
    .header { text-align: center; padding: 2.5rem 1rem 1.5rem 1rem; background: linear-gradient(to right, #ffccdd, #ffe4ec); border-bottom: 2px solid #ffb6c1; position: relative; }
    .header h1 { color: #e91e63; margin: 0; font-family: 'ZCOOL KuaiLe', cursive; font-size: 2.5rem; letter-spacing: 2px; }
    .header p { color: #b96b8e; font-size: 1.1rem; margin-top: 0.5rem; }
    .category-filters { text-align: center; margin: 1.5rem 0; }
    .cat-btn { background: #fff; color: #e91e63; border: 1.5px solid #ffe4ec; border-radius: 8px; font-size: 1.08rem; padding: 0.5em 1.5em; margin: 0 0.5em 0.5em 0.5em; cursor: pointer; box-shadow: 0 2px 8px #ffe4ec33; transition: background .18s, color .18s; }
    .cat-btn.active, .cat-btn:hover { background: #ffe4ec; color: #b96b8e; }
    .dish-grid { display: flex; flex-wrap: wrap; gap: 32px; justify-content: center; margin: 2.5rem 0; padding: 0 1rem; }
    .dish-card { width: 230px; background: #fff; border-radius: 18px; box-shadow: 0 8px 32px rgba(233,30,99,0.08); overflow: hidden; transition: transform .18s, box-shadow .18s; border: 1.5px solid #ffe4ec; display: flex; flex-direction: column; }
    .dish-card:hover { transform: translateY(-6px) scale(1.04); box-shadow: 0 16px 40px rgba(233,30,99,0.18); }
    .dish-card img { width: 100%; height: 150px; object-fit: cover; cursor: pointer; }
    .dish-name { text-align: center; padding: 12px 8px 8px 8px; font-weight: bold; color: #e91e63; font-size: 1.18rem; letter-spacing: 1px; font-family: 'ZCOOL KuaiLe', cursive; cursor: pointer; flex-grow: 1; }
    .add-to-cart-btn { background-color: #e91e63; color: white; border: none; padding: 10px; text-align: center; cursor: pointer; font-size: 0.9rem; transition: background-color 0.2s; margin: 0 12px 12px 12px; border-radius: 8px; }
    .add-to-cart-btn:hover { background-color: #c2185b; }
    .footer { text-align: center; padding: 1.5rem 0 1rem 0; font-size: 1rem; color: #b96b8e; letter-spacing: 1px; }
    .modal { display: none; position: fixed; left: 0; top: 0; width: 100vw; height: 100vh; background: rgba(233,30,99,0.10); align-items: center; justify-content: center; z-index: 1000; }
    .modal.active { display: flex; }
    .modal-content { background: #fff; border-radius: 22px; max-width: 96vw; width: 500px; max-height: 92vh; overflow-y: auto; padding: 2.5rem 2rem 2rem 2rem; box-shadow: 0 12px 48px rgba(233,30,99,0.18); position: relative; border: 2px solid #ffe4ec; }
    .modal-content img.dish-detail-img { width: 100%; max-width: 340px; display: block; margin: 0 auto 1.2rem auto; border-radius: 10px; box-shadow: 0 4px 16px #ffe4ec; }
    .close-btn { position: absolute; right: 2rem; top: 1.5rem; font-size: 2.2rem; color: #e91e63; cursor: pointer; font-weight: bold; transition: color .2s; }
    .close-btn:hover { color: #b96b8e; }
    .modal-content h2 { font-family: 'ZCOOL KuaiLe', cursive; color: #e91e63; margin-bottom: 0.6rem; font-size: 2rem; letter-spacing: 1px; text-align: center; }
    .modal-content .ingredients { font-size: 1.08rem; color: #b96b8e; margin-bottom: 1.1rem; background: #fff5f9; border-radius: 8px; padding: 0.7rem 1rem; border-left: 4px solid #e91e63; }
    .modal-content ol { margin: 0; padding-left: 1.2em; }
    .modal-content ol li { font-size: 1.13rem; color: #444; margin-bottom: 0.7em; line-height: 1.8; font-family: 'Roboto', 'ZCOOL KuaiLe', sans-serif; background: linear-gradient(90deg,#ffe4ec 0,#fff 100%); border-radius: 6px; padding: 0.4em 0.8em; box-shadow: 0 2px 8px #ffe4ec33; transition: background .2s; }
    .modal-content ol li:hover { background: #ffe4ec; color: #e91e63; }
    .cart-icon { position: fixed; bottom: 20px; right: 20px; background-color: #e91e63; color: white; border-radius: 50%; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 1001; }
    .cart-icon .cart-count { position: absolute; top: -5px; right: -5px; background-color: #c2185b; color: white; border-radius: 50%; font-size: 0.8rem; padding: 3px 6px; }
    .cart-modal { display: none; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); z-index: 999; }
    .cart-modal.active { display: flex; align-items: center; justify-content: center; }
    .cart-modal-content { background: #fff; padding: 20px; border-radius: 15px; width: 90%; max-width: 400px; max-height: 80vh; overflow-y: auto; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
    .cart-modal-content h3 { text-align: center; color: #e91e63; font-family: 'ZCOOL KuaiLe', cursive; margin-top: 0; }
    .cart-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #eee; }
    .cart-item:last-child { border-bottom: none; }
    .cart-item-name { flex-grow: 1; color: #555; }
    .cart-item-remove { color: #e91e63; cursor: pointer; margin-left: 10px; font-weight: bold; }
    .cart-total { text-align: right; margin-top: 15px; font-weight: bold; color: #e91e63; }
    .empty-cart-msg { text-align: center; color: #aaa; padding: 20px 0; }
    @media (max-width: 700px) { 
      .dish-card { width: calc(50% - 16px); } 
      .modal-content { padding: 1.5rem 1rem; width: 90vw; }
      .modal-content img.dish-detail-img { max-width: 80vw; }
      .close-btn { right: 1rem; top: 1rem; }
    }
    @media (max-width: 480px) { 
      .dish-card { width: calc(100% - 16px); }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ä¸€å‘¨çˆ±å¿ƒèœè°±</h1>
    <p>æ¯å¤©ä¸ºä½ åšä¸¤é¡¿é¥­ï¼Œæ˜¯æˆ‘æƒ³è¡¨è¾¾çš„å°æµªæ¼«ğŸ’–</p>
  </div>

  <div class="category-filters">
    <button class="cat-btn active" data-category="å…¨éƒ¨">å…¨éƒ¨</button>
    <button class="cat-btn" data-category="è‚‰ç±»">è‚‰ç±»</button>
    <button class="cat-btn" data-category="èœç±»">èœç±»</button>
  </div>

  <div class="dish-grid" id="dishGrid"></div>

  <div class="footer">&copy; 2025 ç”¨å¿ƒåšçš„æ¯ä¸€é¤ï¼Œéƒ½æ˜¯å¯¹ä½ çš„å–œæ¬¢ ğŸ’–</div>

  <!-- èœå“è¯¦æƒ… Modal -->
  <div class="modal" id="dishDetailModal">
    <div class="modal-content" id="dishDetailModalContent">
      <!-- åŠ¨æ€å¡«å…… -->
    </div>
  </div>

  <!-- è´­ç‰©è½¦å›¾æ ‡ -->
  <div class="cart-icon" id="cartIcon">
    ğŸ›’
    <span class="cart-count" id="cartCount">0</span>
  </div>

  <!-- è´­ç‰©è½¦ Modal -->
  <div class="cart-modal" id="cartModal">
    <div class="cart-modal-content">
      <span class="close-btn" id="closeCartModalBtn" style="top:10px; right:15px; font-size:1.8rem;">&times;</span>
      <h3>æˆ‘çš„è´­ç‰©è½¦</h3>
      <div id="cartItemsContainer">
        <!-- è´­ç‰©è½¦é¡¹ç›®å°†åœ¨è¿™é‡Œ -->
      </div>
      <div class="cart-total" id="cartTotal">æ€»è®¡: 0 é“èœ</div>
    </div>
  </div>

  <script>
    const dishes = [
      { id: 1, name: 'è¾£æ¤’ç‚’è‚‰', img: 'ljcr.jpg', category: 'è‚‰ç±»', ingredients: 'çŒªé‡Œè„Šè‚‰/äº”èŠ±è‚‰ 200gï¼Œé’æ¤’2ä¸ªï¼Œå¤§è’œ3ç“£ï¼Œç”Ÿå§œ2ç‰‡ï¼Œç”ŸæŠ½1.5æ±¤åŒ™ï¼Œè€æŠ½åŠæ±¤åŒ™ï¼Œæ–™é…’1æ±¤åŒ™ï¼Œç›é€‚é‡ï¼Œç™½ç³–å°‘è®¸ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['çŒªè‚‰æ´—å‡€åˆ‡è–„ç‰‡ï¼ŒåŠ å…¥ç”ŸæŠ½ã€æ–™é…’è…Œåˆ¶10åˆ†é’Ÿã€‚','é’æ¤’å»ç±½åˆ‡æ¡ï¼Œå¤§è’œå‰æœ«ã€‚','çƒ­é”…å‡‰æ²¹ï¼Œæ”¾å…¥å§œç‰‡ã€è’œæœ«çˆ†é¦™ã€‚','æ”¾å…¥è‚‰ç‰‡ä¸­ç«ç¿»ç‚’è‡³å˜è‰²åç››å‡ºå¤‡ç”¨ã€‚','é”…ä¸­ç•™åº•æ²¹ï¼Œæ”¾å…¥é’æ¤’å¿«ç‚’1åˆ†é’Ÿï¼ŒåŠ å°‘è®¸æ°´ç„–åŠåˆ†é’Ÿã€‚','å€’å›è‚‰ç‰‡ä¸€èµ·ç¿»ç‚’å‡åŒ€ã€‚','åŠ è€æŠ½è°ƒè‰²ï¼ŒåŠ ç›ã€å°‘è®¸ç™½ç³–æé²œï¼Œç¿»ç‚’å‡ ä¸‹å³å¯å‡ºé”…ã€‚'] },
      { id: 2, name: 'æ¸…ç‚’ç©ºå¿ƒèœ', img: 'kxc.png', category: 'èœç±»', ingredients: 'ç©ºå¿ƒèœ 300gï¼Œè’œæœ«é€‚é‡ï¼Œç›é€‚é‡ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['ç©ºå¿ƒèœæ´—å‡€æ²¥å¹²æ°´åˆ†ã€‚','çƒ­é”…åŠ æ²¹ï¼Œçˆ†é¦™è’œæœ«ã€‚','æ”¾å…¥ç©ºå¿ƒèœå¿«é€Ÿç¿»ç‚’ï¼ŒåŠ ç›è°ƒå‘³å³å¯ã€‚'] },
      { id: 3, name: 'è±†èŠ½ç‚’è‚‰', img: 'dycr.jpg', category: 'è‚‰ç±»', ingredients: 'çŒªç˜¦è‚‰ 200gï¼Œé»„è±†èŠ½ 200gï¼Œèƒ¡èåœä¸ 50gï¼ˆå¯é€‰ï¼‰ï¼Œè’œæœ«2ç“£ï¼Œç”ŸæŠ½1.5æ±¤åŒ™ï¼Œæ–™é…’1æ±¤åŒ™ï¼Œæ·€ç²‰1èŒ¶åŒ™ï¼Œç›é€‚é‡ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['ç˜¦è‚‰åˆ‡ä¸ï¼ŒåŠ å…¥ç”ŸæŠ½ã€æ–™é…’ã€æ·€ç²‰æ‹ŒåŒ€è…Œåˆ¶10åˆ†é’Ÿã€‚','é»„è±†èŠ½æ´—å‡€ï¼Œèƒ¡èåœåˆ‡ç»†ä¸ã€‚','çƒ­é”…åŠ æ²¹ï¼Œå…ˆç‚’è‚‰ä¸è‡³å˜è‰²ç››å‡ºå¤‡ç”¨ã€‚','å¦èµ·é”…æ”¾æ²¹ï¼Œçˆ†é¦™è’œæœ«ï¼ŒåŠ å…¥è±†èŠ½å’Œèƒ¡èåœä¸å¿«ç‚’ã€‚','å€’å…¥ç‚’å¥½çš„è‚‰ä¸ç¿»ç‚’å‡åŒ€å³å¯ã€‚'] },
      { id: 4, name: 'è’œè“‰è¥¿å…°èŠ±', img: 'syxlh.png', category: 'èœç±»', ingredients: 'è¥¿å…°èŠ± 1é¢—ï¼ˆçº¦300gï¼‰ï¼Œè’œæœ«3ç“£ï¼Œèšæ²¹1æ±¤åŒ™ï¼Œç›é€‚é‡ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['è¥¿å…°èŠ±åˆ‡æˆå°æœµï¼Œç„¯æ°´1åˆ†é’Ÿåæå‡ºã€‚','çƒ­é”…åŠ æ²¹ï¼Œçˆ†é¦™è’œæœ«ã€‚','æ”¾å…¥è¥¿å…°èŠ±ç¿»ç‚’ï¼ŒåŠ èšæ²¹è°ƒå‘³å³å¯ã€‚'] },
      { id: 5, name: 'é…¸æ±¤è‚¥ç‰›', img: 'stfn.jpg', category: 'è‚‰ç±»', ingredients: 'è‚¥ç‰›å·300gï¼Œé‡‘é’ˆè‡100gï¼Œè±†èŠ½100gï¼Œæ³¡æ¤’/é‡å±±æ¤’5æ ¹ï¼Œå¹²è¾£æ¤’5ä¸ªï¼Œè’œæœ«3ç“£ï¼Œè‘±èŠ±é€‚é‡ï¼Œå§œç‰‡3ç‰‡ï¼Œç•ªèŒ„é…±2æ±¤åŒ™ï¼Œç›é€‚é‡ï¼Œç™½èƒ¡æ¤’ç²‰å°‘è®¸ï¼Œé¸¡ç²¾å°‘è®¸', steps: ['æ‰€æœ‰é£Ÿæå‡†å¤‡å¥½ï¼šæ³¡æ¤’å‰ªæ®µï¼Œé‡‘é’ˆè‡æ’•å¼€æ´—å‡€ï¼Œè±†èŠ½æ´—å‡€ã€‚','é”…ä¸­åŠ æ°´çƒ§å¼€ï¼Œæ”¾å…¥å§œç‰‡ã€æ³¡æ¤’ç…®3åˆ†é’Ÿå‡ºå‘³ã€‚','åŠ å…¥ç•ªèŒ„é…±æ…æ‹Œå‡åŒ€ï¼Œç»§ç»­ç…®2åˆ†é’Ÿã€‚','å…ˆæ”¾å…¥é‡‘é’ˆè‡ç…®1åˆ†é’Ÿï¼Œå†æ”¾è±†èŠ½ç…®1åˆ†é’Ÿã€‚','åˆ†æ¬¡æ”¾å…¥è‚¥ç‰›å·ï¼Œçƒ«ç†Ÿå³å¯ï¼ˆä¸å®œä¹…ç…®ï¼‰ã€‚'] },
      { id: 6, name: 'é…¸è¾£åœŸè±†ä¸', img: 'sltds.jpg', category: 'èœç±»', ingredients: 'åœŸè±†2ä¸ªï¼ˆçº¦300gï¼‰ï¼Œå¹²è¾£æ¤’5ä¸ªï¼Œè’œæœ«2ç“£ï¼Œé†‹1æ±¤åŒ™ï¼Œç›é€‚é‡ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['åœŸè±†å»çš®åˆ‡ä¸ï¼Œæ¸…æ°´å†²æ´—æ‰æ·€ç²‰ï¼Œæ§å¹²æ°´åˆ†ã€‚','å¹²è¾£æ¤’å‰ªæ®µï¼Œè’œå‰æœ«ï¼Œçƒ­é”…åŠ æ²¹çˆ†é¦™ã€‚','æ”¾å…¥åœŸè±†ä¸å¤§ç«å¿«ç‚’1~2åˆ†é’Ÿã€‚','åŠ é†‹ã€ç›è°ƒå‘³å³å¯ã€‚'] },
      { id: 7, name: 'ç™½ç¼è™¾', img: 'bzx.jpeg', category: 'è‚‰ç±»', ingredients: 'é²œè™¾300gï¼Œå§œç‰‡3ç‰‡ï¼Œè‘±æ®µ2æ ¹ï¼Œè’œæœ«2ç“£ï¼Œè‘±èŠ±å°‘è®¸ï¼Œæ–™é…’1æ±¤åŒ™ï¼Œç”ŸæŠ½é€‚é‡ï¼Œé†‹é€‚é‡ï¼Œç›é€‚é‡', steps: ['è™¾å‰ªé¡»ã€å»è™¾çº¿ï¼Œæ¸…æ´—å¹²å‡€ã€‚','é”…ä¸­åŠ æ°´ï¼Œæ”¾å…¥å§œç‰‡ã€è‘±æ®µã€æ–™é…’ï¼Œå¤§ç«çƒ§å¼€ã€‚','æ”¾å…¥è™¾ç…®çº¦2åˆ†é’Ÿï¼Œè™¾èº«å˜çº¢ç«‹å³æå‡ºã€‚','æ­é…è˜¸æ–™ï¼šè’œæœ«+ç”ŸæŠ½+é†‹è°ƒæ±ï¼Œå³å¯é£Ÿç”¨ã€‚'] },
      { id: 8, name: 'è¾›è¾£é¸¡è›‹ç‚’é’æ¤’', img: 'qjcjd.png', category: 'èœç±»', ingredients: 'é¸¡è›‹3ä¸ªï¼Œé’æ¤’2ä¸ªï¼ˆçº¦150gï¼‰ï¼Œç›é€‚é‡ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['é¸¡è›‹æ‰“æ•£ï¼ŒåŠ å°‘è®¸ç›ã€‚','é’æ¤’æ´—å‡€åˆ‡ä¸ã€‚','çƒ­é”…åŠ æ²¹ï¼Œå€’å…¥é¸¡è›‹æ¶²ç‚’è‡³åŠå‡å›ºçŠ¶æ€ç››å‡ºã€‚','å†èµ·é”…åŠ æ²¹ï¼Œæ”¾å…¥é’æ¤’ç‚’è‡³æ–­ç”Ÿï¼Œå€’å…¥é¸¡è›‹ç¿»ç‚’å‡åŒ€ï¼ŒåŠ ç›è°ƒå‘³ï¼Œæ’’è‘±èŠ±å³å¯ã€‚'] },
      { id: 9, name: 'å›é”…è‚‰', img: 'hgr.jpg', category: 'è‚‰ç±»', ingredients: 'å¸¦çš®äº”èŠ±è‚‰300gï¼Œé’è’œè‹—100gï¼Œå§œç‰‡3ç‰‡ï¼Œè‘±æ®µ1æ ¹ï¼Œéƒ«å¿è±†ç“£é…±1.5æ±¤åŒ™ï¼Œç”œé¢é…±0.5æ±¤åŒ™ï¼Œæ–™é…’1æ±¤åŒ™ï¼Œç³–å°‘è®¸ï¼Œç›é€‚é‡ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['äº”èŠ±è‚‰å†·æ°´ä¸‹é”…ï¼ŒåŠ å§œã€è‘±ã€æ–™é…’ç…®è‡³ä¸ƒå…«æˆç†Ÿï¼Œæå‡ºæ™¾å‡‰åˆ‡ç‰‡ã€‚','çƒ­é”…ä¸æ”¾æ²¹ï¼Œæ”¾å…¥è‚‰ç‰‡ç…¸ç‚’å‡ºæ²¹è„‚ã€‚','åŠ å…¥å§œç‰‡ã€è±†ç“£é…±ç‚’é¦™ã€‚','åŠ ç”œé¢é…±ã€ç³–ç‚’åŒ€ã€‚','åŠ å…¥é’è’œè‹—ç¿»ç‚’è‡³æ–­ç”Ÿå³å¯ã€‚'] },
      { id: 10, name: 'è¥¿çº¢æŸ¿ç‚’é¸¡è›‹', img: 'xhscjd.jpeg', category: 'èœç±»', ingredients: 'è¥¿çº¢æŸ¿2ä¸ªï¼ˆçº¦250gï¼‰ï¼Œé¸¡è›‹3ä¸ªï¼Œç›é€‚é‡ï¼Œç³–å°‘è®¸ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['é¸¡è›‹åŠ ç›æ‰“æ•£ï¼Œçƒ­é”…åŠ æ²¹ç‚’è‡³å‡å›ºç››å‡ºã€‚','è¥¿çº¢æŸ¿åˆ‡å—ï¼Œçƒ­é”…åŠ æ²¹ç‚’å‡ºæ²™ã€‚','å€’å…¥é¸¡è›‹ä¸€èµ·ç¿»ç‚’ï¼ŒåŠ ç›ã€å°‘è®¸ç³–è°ƒå‘³å³å¯ã€‚'] },
      { id: 11, name: 'è¾£å­é¸¡ä¸', img: 'lzjj.webp', category: 'è‚‰ç±»', ingredients: 'é¸¡èƒ¸è‚‰/é¸¡è…¿è‚‰250gï¼Œå¹²è¾£æ¤’8ä¸ªï¼ŒèŠ±æ¤’10ç²’ï¼Œè‘±å§œè’œé€‚é‡ï¼Œç”ŸæŠ½1.5æ±¤åŒ™ï¼Œæ–™é…’1æ±¤åŒ™ï¼Œæ·€ç²‰1èŒ¶åŒ™ï¼Œç›é€‚é‡ï¼Œç³–å°‘è®¸ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['é¸¡è‚‰åˆ‡ä¸ï¼ŒåŠ ç”ŸæŠ½ã€æ–™é…’ã€æ·€ç²‰è…Œåˆ¶10åˆ†é’Ÿã€‚','çƒ­é”…åŠ æ²¹ï¼Œæ”¾å…¥é¸¡ä¸ç‚¸è‡³è¡¨é¢å¾®é»„æå‡ºã€‚','é”…ä¸­ç•™åº•æ²¹ï¼Œæ”¾å…¥å¹²è¾£æ¤’ã€èŠ±æ¤’ã€è‘±å§œè’œç‚’é¦™ã€‚','åŠ å…¥é¸¡ä¸ç¿»ç‚’ï¼Œè°ƒå…¥ç›ã€å°‘è®¸ç³–å³å¯ã€‚'] },
      { id: 12, name: 'æ‰‹æ’•åŒ…èœ', img: 'ssbc.jpeg', category: 'èœç±»', ingredients: 'åŒ…èœåŠä¸ªï¼ˆçº¦300gï¼‰ï¼Œå¹²è¾£æ¤’3ä¸ªï¼Œè’œæœ«3ç“£ï¼Œç›é€‚é‡ï¼Œç”ŸæŠ½å°‘è®¸ï¼Œé†‹å°‘è®¸ï¼Œé£Ÿç”¨æ²¹é€‚é‡', steps: ['åŒ…èœæ‰‹æ’•æˆå°å—ï¼Œæ´—å‡€æ²¥å¹²ã€‚','å¹²è¾£æ¤’å‰ªæ®µï¼Œè’œå‰æœ«ã€‚','çƒ­é”…åŠ æ²¹ï¼Œå…ˆçˆ†é¦™å¹²è¾£æ¤’å’Œè’œæœ«ã€‚','æ”¾å…¥åŒ…èœå¤§ç«ç¿»ç‚’1~2åˆ†é’Ÿã€‚','åŠ ç›ã€ç”ŸæŠ½ã€å°‘è®¸é†‹è°ƒå‘³ï¼Œç‚’åŒ€å³å¯ã€‚'] },
      { id: 13, name: 'å£è˜‘æ±¤', img: 'kgt.png', category: 'èœç±»', ingredients: 'å£è˜‘10æœµï¼ˆçº¦200gï¼‰ï¼Œé¸¡è›‹1ä¸ªï¼ˆå¯é€‰ï¼‰ï¼Œæ¸…æ°´500mlï¼Œç›é€‚é‡ï¼Œé¸¡ç²¾å°‘è®¸ï¼Œè‘±èŠ±å°‘è®¸ï¼Œé¦™æ²¹å°‘è®¸', steps: ['å£è˜‘æ´—å‡€åˆ‡ç‰‡ï¼Œé”…ä¸­åŠ æ¸…æ°´ç…®æ²¸ï¼Œæ”¾å…¥å£è˜‘ç…®3åˆ†é’Ÿã€‚','æ‰“å…¥é¸¡è›‹æ…åŒ€ï¼ˆå¯é€‰ï¼‰ï¼ŒåŠ ç›ã€é¸¡ç²¾è°ƒå‘³ï¼Œæ’’è‘±èŠ±ï¼Œæ·‹å‡ æ»´é¦™æ²¹å³å¯ã€‚'] },
      { id: 14, name: 'å‡‰æ‹Œæ‰‹æ’•é¸¡', img: 'lbssj.png', category: 'è‚‰ç±»', ingredients: 'é¸¡èƒ¸è‚‰/é¸¡è…¿è‚‰200gï¼Œé»„ç“œä¸50gï¼Œé¦™èœé€‚é‡ï¼Œè’œæœ«3ç“£ï¼Œå°ç±³è¾£1ä¸ªï¼ŒèŠ±ç”Ÿç¢é€‚é‡ï¼Œç”ŸæŠ½1.5æ±¤åŒ™ï¼Œé†‹1æ±¤åŒ™ï¼Œé¦™æ²¹åŠæ±¤åŒ™ï¼Œè¾£æ¤’æ²¹1æ±¤åŒ™ï¼Œç³–å°‘è®¸ï¼Œç›é€‚é‡', steps: ['é¸¡è‚‰å†·æ°´ä¸‹é”…ï¼ŒåŠ å§œç‰‡ã€æ–™é…’ç…®ç†Ÿï¼Œæ”¾å‡‰åæ’•æˆä¸ã€‚','é»„ç“œåˆ‡ä¸ï¼Œé¦™èœåˆ‡æ®µã€‚','å‡†å¤‡è°ƒæ–™æ±ï¼šè’œæœ«ã€å°ç±³è¾£ã€ç”ŸæŠ½ã€é†‹ã€ç³–ã€é¦™æ²¹ã€è¾£æ¤’æ²¹æ··åˆã€‚','é¸¡ä¸ä¸é»„ç“œä¸æ··åˆï¼Œæ·‹ä¸Šè°ƒæ–™æ±ï¼Œæ’’èŠ±ç”Ÿç¢å’Œé¦™èœå³å¯ã€‚'] }
    ];

    const dishGrid = document.getElementById('dishGrid');
    const dishDetailModal = document.getElementById('dishDetailModal');
    const dishDetailModalContent = document.getElementById('dishDetailModalContent');
    const cartIcon = document.getElementById('cartIcon');
    const cartCount = document.getElementById('cartCount');
    const cartModal = document.getElementById('cartModal');
    const cartItemsContainer = document.getElementById('cartItemsContainer');
    const cartTotal = document.getElementById('cartTotal');
    const closeCartModalBtn = document.getElementById('closeCartModalBtn');
    const categoryBtns = document.querySelectorAll('.cat-btn');

    let cartItems = [];
    let currentCategory = 'å…¨éƒ¨';

    function findDishById(id) {
      return dishes.find(dish => dish.id === id);
    }

    function renderDishes(category = 'å…¨éƒ¨') {
      dishGrid.innerHTML = '';
      currentCategory = category;
      const filteredDishes = category === 'å…¨éƒ¨' ? dishes : dishes.filter(d => d.category === category);
      
      filteredDishes.forEach(dish => {
        const card = document.createElement('div');
        card.className = 'dish-card';
        card.innerHTML = `
          <img src="./${dish.img}" alt="${dish.name}">
          <div class="dish-name">${dish.name}</div>
          <button class="add-to-cart-btn" data-id="${dish.id}">åŠ å…¥è´­ç‰©è½¦</button>
        `;
        card.querySelector('img').onclick = () => showDishModal(dish);
        card.querySelector('.dish-name').onclick = () => showDishModal(dish);
        card.querySelector('.add-to-cart-btn').onclick = (e) => {
          e.stopPropagation(); // é˜²æ­¢ç‚¹å‡»æŒ‰é’®æ—¶è§¦å‘å¡ç‰‡è¯¦æƒ…
          addToCart(dish.id);
        };
        dishGrid.appendChild(card);
      });
    }

    function showDishModal(dish) {
      dishDetailModalContent.innerHTML = `
        <span class='close-btn' id='closeDishDetailModalBtn'>&times;</span>
        <h2>${dish.name}</h2>
        <img src='./${dish.img}' alt='${dish.name}' class='dish-detail-img'>
        <div class='ingredients'><strong>é…æ–™ï¼š</strong>${dish.ingredients}</div>
        <ol>${dish.steps.map(s => `<li>${s}</li>`).join('')}</ol>
        <button class="add-to-cart-btn" data-id="${dish.id}" style="width:100%; margin-top:1rem; padding:12px; font-size:1rem;">åŠ å…¥è´­ç‰©è½¦</button>
      `;
      dishDetailModal.classList.add('active');
      document.getElementById('closeDishDetailModalBtn').onclick = hideDishDetailModal;
      dishDetailModalContent.querySelector('.add-to-cart-btn').onclick = () => {
        addToCart(dish.id);
        // å¯ä»¥é€‰æ‹©åœ¨è¿™é‡Œå…³é—­è¯¦æƒ…å¼¹çª—æˆ–ç»™å‡ºæç¤º
        // hideDishDetailModal(); 
        alert(`${dish.name} å·²åŠ å…¥è´­ç‰©è½¦!`);
      };
    }

    function hideDishDetailModal() {
      dishDetailModal.classList.remove('active');
    }

    dishDetailModal.onclick = function(e) { 
      if (e.target === dishDetailModal) hideDishDetailModal(); 
    };

    function addToCart(dishId) {
      const dish = findDishById(dishId);
      if (dish) {
        // ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å…è®¸å¤šæ¬¡æ·»åŠ åŒä¸€èœå“
        cartItems.push(dish);
        updateCartDisplay();
        alert(`${dish.name} å·²åŠ å…¥è´­ç‰©è½¦!`);
      } else {
        console.error('èœå“æœªæ‰¾åˆ°: ', dishId);
      }
    }

    function removeFromCart(dishId) {
        const indexToRemove = cartItems.findIndex(item => item.id === dishId);
        if (indexToRemove > -1) {
            cartItems.splice(indexToRemove, 1); // åªç§»é™¤ä¸€ä¸ªåŒ¹é…é¡¹
            updateCartDisplay();
        }
    }

    function updateCartDisplay() {
      cartCount.textContent = cartItems.length;
      renderCartItems();
      cartTotal.textContent = `æ€»è®¡: ${cartItems.length} é“èœ`;
    }

    function renderCartItems() {
      cartItemsContainer.innerHTML = '';
      if (cartItems.length === 0) {
        cartItemsContainer.innerHTML = '<p class="empty-cart-msg">è´­ç‰©è½¦è¿˜æ˜¯ç©ºçš„å“¦ï¼Œå¿«å»æ·»åŠ ç¾å‘³å§ï¼</p>';
        return;
      }
      const groupedItems = cartItems.reduce((acc, item) => {
        acc[item.id] = (acc[item.id] || { ...item, quantity: 0 });
        acc[item.id].quantity++;
        return acc;
      }, {});

      Object.values(groupedItems).forEach(item => {
        const cartItemDiv = document.createElement('div');
        cartItemDiv.className = 'cart-item';
        cartItemDiv.innerHTML = `
          <span class="cart-item-name">${item.name} (x${item.quantity})</span>
          <span class="cart-item-remove" data-id="${item.id}">ç§»é™¤</span>
        `;
        cartItemDiv.querySelector('.cart-item-remove').onclick = () => removeFromCart(item.id);
        cartItemsContainer.appendChild(cartItemDiv);
      });
    }

    function toggleCartModal() {
      cartModal.classList.toggle('active');
      if (cartModal.classList.contains('active')) {
        renderCartItems(); // æ‰“å¼€æ—¶åˆ·æ–°è´­ç‰©è½¦å†…å®¹
      }
    }

    cartIcon.onclick = toggleCartModal;
    closeCartModalBtn.onclick = toggleCartModal;
    cartModal.onclick = function(e) {
      if (e.target === cartModal) toggleCartModal();
    };

    categoryBtns.forEach(btn => {
      btn.onclick = function() {
        categoryBtns.forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        renderDishes(this.dataset.category);
      };
    });

    // åˆå§‹åŒ–é¡µé¢
    renderDishes(); // é»˜è®¤æ˜¾ç¤ºå…¨éƒ¨
    updateCartDisplay(); // åˆå§‹åŒ–è´­ç‰©è½¦æ˜¾ç¤º

  </script>
</body>
</html>